<!doctype html><html lang="fa" dir="rtl"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>SoodCity - ุณูุฏ ุณุช</title><script src="https://cdn.tailwindcss.com"></script><script src="https://cdn.jsdelivr.net/npm/dompurify@2.3.8/dist/purify.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet"><link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/><script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script><link rel="manifest" href="manifest.json"><link rel="stylesheet" href="style.css"><script defer="defer" src="/static/js/main.dfb57789.js"></script></head><body class="gradient-bg min-h-screen"><div id="soodcity-landing-page" class="h-screen flex flex-col items-center justify-start pt-20 text-center p-4 overflow-hidden relative"><div class="absolute inset-0 bg-gray-900/50 backdrop-blur-sm"></div><div class="absolute inset-0 z-[-1]" id="landing-bg-animation"></div><div class="relative z-10"><img src="soodcity.jpg" alt="SoodCity Logo" class="w-24 h-24 mx-auto mb-2 rounded-full shadow-lg"><h1 class="text-7xl md:text-8xl font-black text-white mb-1 tracking-tighter">ุณูุฏ ุณุช</h1><h2 class="text-xl md:text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-500 mb-3">ุจุงุฒุงุฑ ุฑูุงุจุช ฺฉุดุงูุฑุฒ</h2><p class="text-base text-gray-300 max-w-xl mx-auto mb-5">ูพูุชูุฑู ููุดููุฏ ุจุฑุง ุงุชุตุงู ูุณุชูู ฺฉุดุงูุฑุฒุงูุ ฺฏูุฎุงููโุฏุงุฑุงูุ ูุฑุงฺฉุฒ ุณูุฑุชูฺฏุ ุฎุฑุฏุงุฑุงู ู ุฑุงููุฏฺฏุงู. ุชุฌุงุฑุช ุดูุงู ู ุจููู ุฏุฑ ุฏุณุชุงู ุดูุงุณุช.</p><button onclick='document.getElementById("role-selection-modal").classList.remove("hidden")' class="bg-cyan-500 hover:bg-cyan-600 text-white font-bold py-3 px-8 rounded-full text-lg transition-all duration-300 transform hover:scale-105 shadow-lg shadow-cyan-500/30">ูุฑูุฏ ุจู ุจุงุฒุงุฑ <i class="fas fa-arrow-left mr-2"></i></button></div><div id="supply-chain-animation" class="absolute bottom-0 left-0 w-full h-1/3 z-0 opacity-50"><svg class="supply-chain-svg" viewBox="0 0 800 200" preserveAspectRatio="xMidYMid meet"><path id="path1" d="M 100 100 C 200 50, 300 50, 400 100" class="path"/><path id="path2" d="M 400 100 C 500 150, 600 150, 700 100" class="path"/><path id="path3" d="M 250 100 C 325 150, 475 150, 550 100" class="path" style="stroke-dasharray:5,5"/><g><circle cx="100" cy="100" r="20" class="role-icon"/><foreignObject x="85" y="85" width="30" height="30"><i class="fas fa-leaf text-white text-xl"></i></foreignObject></g><g><circle cx="250" cy="100" r="20" class="role-icon"/><foreignObject x="235" y="85" width="30" height="30"><i class="fas fa-tractor text-white text-xl"></i></foreignObject></g><g><circle cx="400" cy="100" r="25" class="role-icon"/><foreignObject x="385" y="85" width="30" height="30"><i class="fas fa-warehouse text-white text-xl"></i></foreignObject></g><g><circle cx="550" cy="100" r="20" class="role-icon"/><foreignObject x="535" y="85" width="30" height="30"><i class="fas fa-truck text-white text-xl"></i></foreignObject></g><g><circle cx="700" cy="100" r="20" class="role-icon"/><foreignObject x="685" y="85" width="30" height="30"><i class="fas fa-shopping-cart text-white text-xl"></i></foreignObject></g><circle r="4" class="flow-dot" style="--path:path('M 100 100 C 200 50, 300 50, 400 100');animation-delay:0s"/><circle r="4" class="flow-dot" style="--path:path('M 400 100 C 500 150, 600 150, 700 100');animation-delay:-5s"/><circle r="4" class="flow-dot" style="--path:path('M 250 100 C 325 150, 475 150, 550 100');animation-delay:-2s"/></svg></div></div><div id="role-selection-modal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 hidden"><div class="bg-gray-800 rounded-2xl p-8 max-w-4xl w-full text-center relative"><button onclick='document.getElementById("role-selection-modal").classList.add("hidden")' class="absolute top-4 right-4 text-gray-400 hover:text-white">&times;</button><h3 class="text-2xl font-bold text-white mb-6">ุจุฑุง ุดุฑูุนุ ููุด ุฎูุฏ ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ</h3><div class="grid grid-cols-2 md:grid-cols-5 gap-4"><div class="bg-gray-700 p-4 rounded-xl text-center cursor-pointer transform transition-all duration-300 hover:scale-105 hover:shadow-lg hover:bg-green-500/20" onclick='selectRoleAndProceed("greenhouse")'><div class="w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-3 bg-green-500/10 text-green-400"><i class="fas fa-leaf text-3xl"></i></div><h4 class="text-lg font-bold text-white">ฺฏูุฎุงููโุฏุงุฑ</h4></div><div class="bg-gray-700 p-4 rounded-xl text-center cursor-pointer transform transition-all duration-300 hover:scale-105 hover:shadow-lg hover:bg-yellow-500/20" onclick='selectRoleAndProceed("farmer")'><div class="w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-3 bg-yellow-500/10 text-yellow-400"><i class="fas fa-tractor text-3xl"></i></div><h4 class="text-lg font-bold text-white">ฺฉุดุงูุฑุฒ</h4></div><div class="bg-gray-700 p-4 rounded-xl text-center cursor-pointer transform transition-all duration-300 hover:scale-105 hover:shadow-lg hover:bg-blue-500/20" onclick='selectRoleAndProceed("sorting")'><div class="w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-3 bg-blue-500/10 text-blue-400"><i class="fas fa-warehouse text-3xl"></i></div><h4 class="text-lg font-bold text-white">ูุฑฺฉุฒ ุณูุฑุชูฺฏ</h4></div><div class="bg-gray-700 p-4 rounded-xl text-center cursor-pointer transform transition-all duration-300 hover:scale-105 hover:shadow-lg hover:bg-indigo-500/20" onclick='selectRoleAndProceed("buyer")'><div class="w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-3 bg-indigo-500/10 text-indigo-400"><i class="fas fa-shopping-cart text-3xl"></i></div><h4 class="text-lg font-bold text-white">ุฎุฑุฏุงุฑ</h4></div><div class="bg-gray-700 p-4 rounded-xl text-center cursor-pointer transform transition-all duration-300 hover:scale-105 hover:shadow-lg hover:bg-orange-500/20" onclick='selectRoleAndProceed("driver")'><div class="w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-3 bg-orange-500/10 text-orange-400"><i class="fas fa-truck text-3xl"></i></div><h4 class="text-lg font-bold text-white">ุฑุงููุฏู</h4></div></div><div class="text-center mt-6"><p class="text-gray-400 mb-2 text-sm">ูุจูุงู ุซุจุช ูุงู ฺฉุฑุฏูโุงุฏุ</p><button onclick="showLogin()" class="bg-gray-600 hover:bg-gray-500 text-white px-6 py-2 rounded-lg font-semibold transition-colors">ูุฑูุฏ ุจู ุณุณุชู</button></div></div></div><div id="rejection-reason-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-[10000]"><div class="bg-white rounded-xl p-6 w-full max-w-md mx-4"><h3 class="text-xl font-bold mb-4">ุฏูู ุนุฏู ุชุงุฏ</h3><textarea id="rejection-reason-textarea" class="w-full p-2 border rounded mb-4" rows="4" placeholder="ุฏูู ุฎูุฏ ุฑุง ุจุฑุง ุนุฏู ุชุงุฏ ุงู ุชุญูู ุจููุณุฏ..."></textarea><div class="flex justify-end space-x-2 space-x-reverse"><button onclick="closeRejectionModal()" class="bg-gray-300 px-4 py-2 rounded">ุงูุตุฑุงู</button> <button onclick="submitRejection()" class="bg-red-500 text-white px-4 py-2 rounded">ุซุจุช ุนุฏู ุชุงุฏ</button></div></div></div><div id="auth-screen" class="min-h-screen gradient-bg flex items-center justify-center p-4 hidden"><div class="w-full max-w-md"><div class="bg-gray-800/80 backdrop-blur-lg rounded-2xl shadow-2xl p-8"><div class="text-center mb-8"><h1 class="text-5xl font-black text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-500 pb-2">ุณูุฏ ุณุช</h1><p class="text-gray-400">ุจู ูพูุชูุฑู ููุดููุฏ ฺฉุดุงูุฑุฒ ุฎูุด ุขูุฏุฏ</p></div><div id="login-form"><h2 class="text-2xl font-bold mb-6 text-center text-white">ูุฑูุฏ ุจู ุณุณุชู</h2><form onsubmit="handleLogin(event)"><div class="mb-4"><label class="block text-gray-400 text-sm font-bold mb-2">ูุงู ฺฉุงุฑุจุฑ (ุดูุงุฑู ุชููู)</label> <input id="login-username" class="w-full px-4 py-3 bg-gray-900/70 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-cyan-500 transition-colors" required></div><div class="mb-6"><label class="block text-gray-400 text-sm font-bold mb-2">ุฑูุฒ ุนุจูุฑ</label> <input type="password" id="login-password" class="w-full px-4 py-3 bg-gray-900/70 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-cyan-500 transition-colors" required></div><button type="submit" class="w-full bg-cyan-500 hover:bg-cyan-600 text-white font-bold py-3 px-4 rounded-lg transition-colors shadow-lg shadow-cyan-500/20">ูุฑูุฏ</button></form><div class="text-center mt-6"><button onclick="showPasswordRecovery()" class="text-sm text-cyan-400 hover:text-cyan-300 mb-3 block mx-auto">ุฑูุฒ ุนุจูุฑ ุฎูุฏ ุฑุง ูุฑุงููุด ฺฉุฑุฏูโุงุฏุ</button><p class="text-gray-400">ุญุณุงุจ ฺฉุงุฑุจุฑ ูุฏุงุฑุฏุ <button onclick='document.getElementById("role-selection-modal").classList.remove("hidden")' class="text-cyan-400 hover:text-cyan-300 font-bold">ุซุจุช ูุงู</button></p></div></div><div id="register-form" class="hidden"><div class="flex items-center mb-6"><button onclick="showLogin()" class="text-gray-400 hover:text-gray-200 ml-3"><i class="fas fa-arrow-right"></i></button><h2 class="text-2xl font-bold text-white">ุซุจุช ูุงู - <span id="selected-role-title" class="text-cyan-400"></span></h2></div><form onsubmit="handleRegister(event)"><input type="hidden" id="selected-role"><div class="grid grid-cols-1 gap-4"><input id="register-fullname" class="w-full px-4 py-3 bg-gray-900/70 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-cyan-500 transition-colors" placeholder="ูุงู ู ูุงู ุฎุงููุงุฏฺฏ" required> <input id="register-license-plate" class="w-full px-4 py-3 bg-gray-900/70 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-cyan-500 transition-colors hidden" placeholder="ูพูุงฺฉ ุฎูุฏุฑู"> <select id="register-province" class="w-full px-4 py-3 bg-gray-900/70 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-cyan-500 transition-colors" required><option value="" disabled="disabled" selected="selected">ุงุณุชุงู ุฎูุฏ ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ</option><option value="Tehran">ุชูุฑุงู</option><option value="Qom">ูู</option><option value="Markazi">ูุฑฺฉุฒ</option><option value="Qazvin">ูุฒูู</option><option value="Gilan">ฺฏูุงู</option><option value="Ardabil">ุงุฑุฏุจู</option><option value="Zanjan">ุฒูุฌุงู</option><option value="East Azerbaijan">ุขุฐุฑุจุงุฌุงู ุดุฑู</option><option value="West Azerbaijan">ุขุฐุฑุจุงุฌุงู ุบุฑุจ</option><option value="Kurdistan">ฺฉุฑุฏุณุชุงู</option><option value="Hamadan">ููุฏุงู</option><option value="Kermanshah">ฺฉุฑูุงูุดุงู</option><option value="Ilam">ุงูุงู</option><option value="Lorestan">ูุฑุณุชุงู</option><option value="Khuzestan">ุฎูุฒุณุชุงู</option><option value="Chaharmahal and Bakhtiari">ฺูุงุฑูุญุงู ู ุจุฎุชุงุฑ</option><option value="Kohgiluyeh and Boyer-Ahmad">ฺฉูฺฏููู ู ุจูุฑุงุญูุฏ</option><option value="Bushehr">ุจูุดูุฑ</option><option value="Fars">ูุงุฑุณ</option><option value="Hormozgan">ูุฑูุฒฺฏุงู</option><option value="Sistan and Baluchestan">ุณุณุชุงู ู ุจููฺุณุชุงู</option><option value="Kerman">ฺฉุฑูุงู</option><option value="Razavi Khorasan">ุฎุฑุงุณุงู ุฑุถู</option><option value="North Khorasan">ุฎุฑุงุณุงู ุดูุงู</option><option value="South Khorasan">ุฎุฑุงุณุงู ุฌููุจ</option><option value="Semnan">ุณููุงู</option><option value="Mazandaran">ูุงุฒูุฏุฑุงู</option><option value="Golestan">ฺฏูุณุชุงู</option><option value="Alborz">ุงูุจุฑุฒ</option><option value="Isfahan">ุงุตููุงู</option><option value="Yazd">ุฒุฏ</option></select> <textarea id="register-address" class="w-full px-4 py-3 bg-gray-900/70 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-cyan-500 transition-colors" placeholder="ุขุฏุฑุณ ุฏูู" required></textarea> <input type="tel" id="register-phone" class="w-full px-4 py-3 bg-gray-900/70 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-cyan-500 transition-colors" placeholder="ุดูุงุฑู ุชููู (ูุงู ฺฉุงุฑุจุฑ)" required> <input type="password" id="register-password" class="w-full px-4 py-3 bg-gray-900/70 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-cyan-500 transition-colors" placeholder="ุฑูุฒ ุนุจูุฑ" required></div><button type="submit" class="w-full mt-6 bg-cyan-500 hover:bg-cyan-600 text-white font-bold py-3 px-4 rounded-lg transition-colors shadow-lg shadow-cyan-500/20">ุซุจุช ูุงู</button></form><p class="text-center mt-6 text-gray-400">ูุจูุงู ุซุจุช ูุงู ฺฉุฑุฏูโุงุฏุ <button onclick="showLogin()" class="text-cyan-400 hover:text-cyan-300 font-bold">ูุฑูุฏ</button></p></div><div id="password-recovery-form" class="hidden"><div class="flex items-center mb-6"><button onclick="showLogin()" class="text-gray-400 hover:text-gray-200 ml-3"><i class="fas fa-arrow-right"></i></button><h2 class="text-2xl font-bold text-white">ุจุงุฒุงุจ ุฑูุฒ ุนุจูุฑ</h2></div><div id="recovery-step-1"><p class="text-gray-400 mb-4">ุดูุงุฑู ุชููู ุฎูุฏ ุฑุง ูุงุฑุฏ ฺฉูุฏ ุชุง ฺฉุฏ ุชุงุฏ ุจุฑุงุชุงู ุงุฑุณุงู ุดูุฏ.</p><form onsubmit="handlePasswordRecovery(event)"><input type="tel" id="recovery-phone" class="w-full mb-4 px-4 py-3 bg-gray-900/70 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-cyan-500 transition-colors" required placeholder="09xxxxxxxxx"> <button type="submit" class="w-full bg-cyan-500 hover:bg-cyan-600 text-white font-bold py-3 px-4 rounded-lg transition-colors shadow-lg shadow-cyan-500/20">ุงุฑุณุงู ฺฉุฏ ุชุงุฏ</button></form></div><div id="recovery-step-2" class="hidden"><p class="text-gray-400 mb-4">ฺฉุฏ ุชุงุฏ ุจู ุดูุงุฑู <span id="recovery-phone-display" class="font-bold text-cyan-400"></span> ุงุฑุณุงู ุดุฏ.</p><form onsubmit="verifyRecoveryCode(event)"><input id="recovery-code" class="w-full mb-4 px-4 py-3 bg-gray-900/70 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-cyan-500 transition-colors" required placeholder="ฺฉุฏ ุชุงุฏ ด ุฑูู"> <button type="submit" class="w-full bg-cyan-500 hover:bg-cyan-600 text-white font-bold py-3 px-4 rounded-lg transition-colors shadow-lg shadow-cyan-500/20">ุชุงุฏ ฺฉุฏ</button></form></div><div id="recovery-result" class="mt-4 hidden"><div class="p-4 bg-gray-900/70 border border-gray-700 rounded-lg"><div class="text-center"><span class="text-gray-400 text-sm">ุฑูุฒ ุนุจูุฑ ุฌุฏุฏ ุดูุง:</span><div id="new-password" class="text-2xl font-bold text-cyan-400 mt-2 font-mono tracking-wider"></div><p class="text-gray-500 text-xs mt-2">ูุทูุงู ุงู ุฑูุฒ ุฑุง ุฏุฑ ุฌุง ุงูู ุฐุฎุฑู ฺฉูุฏ.</p></div><button onclick="showLogin()" class="w-full mt-4 bg-cyan-500 hover:bg-cyan-600 text-white py-3 px-4 rounded-lg">ูุฑูุฏ ุจุง ุฑูุฒ ุฌุฏุฏ</button></div></div><p class="text-center mt-6 text-gray-400">ุฑูุฒ ุฎูุฏ ุฑุง ุจู ุงุฏ ุขูุฑุฏุฏุ <button onclick="showLogin()" class="text-cyan-400 hover:text-cyan-300 font-bold">ูุฑูุฏ</button></p></div></div></div></div><div id="main-app" class="hidden"><div id="sidebar" class="fixed top-0 right-0 h-full w-64 bg-gray-800 text-white transition-transform duration-300 ease-in-out z-[10000]"><div class="p-4"><div class="flex justify-between items-center mb-6"><h2 class="text-2xl font-bold text-cyan-400">ุณูุฏ ุณุช</h2><button id="close-sidebar-btn" class="text-gray-400 hover:text-white text-2xl">&times;</button></div><nav><ul class="space-y-2"><li><a href="#" id="menu-dashboard" class="flex items-center py-3 px-4 rounded-lg hover:bg-gray-700 transition-colors"><i class="fas fa-th-large w-6 text-center ml-3"></i>ุฏุงุดุจูุฑุฏ</a></li><li><a href="#" id="menu-profile" class="flex items-center py-3 px-4 rounded-lg hover:bg-gray-700 transition-colors"><i class="fas fa-user-circle w-6 text-center ml-3"></i>ูพุฑููุงู</a></li><li><a href="#" id="menu-change-password" class="flex items-center py-3 px-4 rounded-lg hover:bg-gray-700 transition-colors"><i class="fas fa-key w-6 text-center ml-3"></i>ุชุบุฑ ุฑูุฒ ุนุจูุฑ</a></li><li><a href="#" id="menu-delete-account" class="flex items-center py-3 px-4 rounded-lg hover:bg-gray-700 transition-colors"><i class="fas fa-trash-alt w-6 text-center ml-3"></i>ุญุฐู ุญุณุงุจ ฺฉุงุฑุจุฑ</a></li><li><a href="#" id="menu-about" class="flex items-center py-3 px-4 rounded-lg hover:bg-gray-700 transition-colors"><i class="fas fa-info-circle w-6 text-center ml-3"></i>ุฏุฑุจุงุฑู ูุง</a></li><li><a href="#" id="menu-contact" class="flex items-center py-3 px-4 rounded-lg hover:bg-gray-700 transition-colors"><i class="fas fa-envelope w-6 text-center ml-3"></i>ุชูุงุณ ุจุง ูุง</a></li><li><a href="#" id="menu-download-app" class="flex items-center py-3 px-4 rounded-lg hover:bg-gray-700 transition-colors"><i class="fas fa-download w-6 text-center ml-3"></i>ุฏุงูููุฏ ุงูพูฺฉุดู</a></li></ul></nav></div></div><div id="overlay" class="fixed inset-0 bg-black opacity-0 hidden z-[9999] transition-opacity duration-300"></div><header class="bg-white shadow-md"><div class="container mx-auto px-4 py-3"><div class="flex items-center justify-between"><div class="flex items-center space-x-4 space-x-reverse"><button id="menu-btn" class="text-gray-600 hover:bg-gray-200 w-10 h-10 rounded-full transition-colors"><i class="fas fa-bars"></i></button><div><h1 id="main-header-title" class="text-2xl font-bold text-gray-800 flex items-center">ุณูุฏ ุณุช</h1><p class="text-gray-500 text-sm flex items-center" id="user-info">ุฎูุด ุขูุฏุฏ</p></div></div><div class="flex items-center space-x-2 space-x-reverse"><button onclick="showNotifications()" class="text-gray-600 hover:bg-gray-200 w-10 h-10 rounded-full transition-colors relative"><i class="fas fa-bell"></i> <span id="notification-badge" class="absolute top-0 right-0 bg-red-500 text-white text-xs rounded-full w-4 h-4 flex items-center justify-center hidden">0</span></button> <button onclick="logout()" class="text-gray-600 hover:bg-gray-200 w-10 h-10 rounded-full transition-colors"><i class="fas fa-sign-out-alt"></i></button></div></div></div></header><div id="profile-page" class="page-container hidden p-6 bg-white rounded-xl card-shadow m-6"><h2 class="text-2xl font-bold mb-6 text-gray-800 border-b pb-4">ูพุฑููุงู ฺฉุงุฑุจุฑ</h2><div class="space-y-4"><div class="flex items-center"><span class="w-1/3 text-gray-500 font-semibold">ูุงู ู ูุงู ุฎุงููุงุฏฺฏ:</span> <span id="profile-fullname" class="font-medium text-gray-800"></span></div><div class="flex items-center"><span class="w-1/3 text-gray-500 font-semibold">ุดูุงุฑู ุชููู:</span> <span id="profile-phone" class="font-medium text-gray-800"></span></div><div class="flex items-center"><span class="w-1/3 text-gray-500 font-semibold">ุงุณุชุงู:</span> <span id="profile-province" class="font-medium text-gray-800"></span></div><div class="flex items-center"><span class="w-1/3 text-gray-500 font-semibold">ููุด:</span> <span id="profile-role" class="font-medium text-gray-800"></span></div><div id="profile-license-plate-container" class="flex items-center hidden"><span class="w-1/3 text-gray-500 font-semibold">ูพูุงฺฉ ุฎูุฏุฑู:</span> <span id="profile-license-plate" class="font-medium text-gray-800"></span></div><div class="flex items-center"><span class="w-1/3 text-gray-500 font-semibold">ุขุฏุฑุณ:</span> <span id="profile-address" class="font-medium text-gray-800"></span></div></div></div><div id="about-page" class="page-container hidden p-6 bg-white rounded-xl card-shadow m-6"><h2 class="text-2xl font-bold mb-4">ุฏุฑุจุงุฑู ูุง</h2><p>ุณูุฏ ุณุช ฺฉ ูพูุชูุฑู ููุขูุฑุงูู ุจุฑุง ุจูููโุณุงุฒ ุฒูุฌุฑู ุชุงูู ฺฉุดุงูุฑุฒ ุงุณุช. ูุฏู ูุง ุงุฌุงุฏ ุงุฑุชุจุงุท ูุณุชูู ู ุดูุงู ุจู ุชูุงู ูุนุงูุงู ุงู ุญูุฒูุ ุงุฒ ฺฉุดุงูุฑุฒ ุชุง ุฎุฑุฏุงุฑ ููุงุ ูโุจุงุดุฏ.</p></div><div id="contact-page" class="page-container hidden p-6 bg-white rounded-xl card-shadow m-6"><h2 class="text-2xl font-bold mb-4">ุชูุงุณ ุจุง ูุง</h2><p>ุจุฑุง ูพุดุชุจุงู ู ุงุทูุงุนุงุช ุจุดุชุฑ ูโุชูุงูุฏ ุจุง ูุง ุงุฒ ุทุฑู ุงูู support@sood.city ุง ุดูุงุฑู ุชููู 09103996442 ุฏุฑ ุชูุงุณ ุจุงุดุฏ.</p></div><div id="change-password-page" class="page-container hidden p-6 bg-white rounded-xl card-shadow m-6"><h2 class="text-2xl font-bold mb-6 text-gray-800 border-b pb-4">ุชุบุฑ ุฑูุฒ ุนุจูุฑ</h2><form onsubmit="handleChangePassword(event)" class="space-y-6 max-w-lg mx-auto"><div><label for="current-password" class="block text-sm font-medium text-gray-700">ุฑูุฒ ุนุจูุฑ ูุนู</label> <input type="password" id="current-password" required class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"></div><div><label for="change-new-password" class="block text-sm font-medium text-gray-700">ุฑูุฒ ุนุจูุฑ ุฌุฏุฏ</label> <input type="password" id="change-new-password" required class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"></div><div><label for="confirm-new-password" class="block text-sm font-medium text-gray-700">ุชฺฉุฑุงุฑ ุฑูุฒ ุนุจูุฑ ุฌุฏุฏ</label> <input type="password" id="confirm-new-password" required class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"></div><div><button type="submit" class="w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">ุชุบุฑ ุฑูุฒ</button></div></form></div><div id="delete-account-page" class="page-container hidden p-6 bg-white rounded-xl card-shadow m-6"><div class="text-center"><h2 class="text-2xl font-bold mb-4 text-red-600">ุญุฐู ุญุณุงุจ ฺฉุงุฑุจุฑ</h2><p class="text-gray-600 mb-6">ุขุง ุงุฒ ุญุฐู ุญุณุงุจ ฺฉุงุฑุจุฑ ุฎูุฏ ุงุทููุงู ุฏุงุฑุฏุ ุงู ุนูู ุบุฑูุงุจู ุจุงุฒฺฏุดุช ุงุณุช ู ุชูุงู ุงุทูุงุนุงุช ุดูุง ุจุฑุง ููุดู ูพุงฺฉ ุฎูุงูุฏ ุดุฏ.</p><button onclick="handleDeleteAccount()" class="px-6 py-3 bg-red-600 text-white font-semibold rounded-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"><i class="fas fa-trash-alt ml-2"></i> ุจููุ ุญุณุงุจู ุฑุง ุญุฐู ฺฉู</button></div></div><div id="download-app-page" class="page-container hidden p-6 bg-gradient-to-br from-cyan-50 to-blue-100 rounded-xl card-shadow m-6"><h2 class="text-2xl font-bold mb-6 text-gray-800 border-b pb-4">ุฏุงูููุฏ ุงูพูฺฉุดู</h2><div class="flex flex-col md:flex-row items-center justify-center gap-8 py-10"><a href="./soodcity-android-app.apk" id="android-download-btn" data-filename="soodcity-android-app.apk" onclick="handleAppDownload(event)" class="glass-btn w-64 h-20 flex items-center justify-center p-4 rounded-2xl transition-all duration-300"><i class="fab fa-android text-4xl mr-4 text-green-600"></i><div class="text-gray-800"><p class="font-semibold">ุฏุงูููุฏ ุจุฑุง</p><p class="text-2xl font-bold">ุงูุฏุฑูุฏ</p></div></a><a href="./soodcity-ios-app.ipa" id="ios-download-btn" data-filename="soodcity-ios-app.ipa" onclick="handleAppDownload(event)" class="glass-btn w-64 h-20 flex items-center justify-center p-4 rounded-2xl transition-all duration-300"><i class="fab fa-apple text-4xl mr-4 text-gray-700"></i><div class="text-gray-800"><p class="font-semibold">ุฏุงูููุฏ ุจุฑุง</p><p class="text-2xl font-bold">ุขโุงูโุงุณ</p></div></a></div></div><div id="greenhouse-panel" class="panel hidden"><div class="container mx-auto px-4 py-6"><div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6"><div class="bg-white rounded-xl card-shadow p-6"><div class="flex items-center justify-between mb-4"><h3 class="text-xl font-bold">ููุดู ู ูููุนุช</h3><div class="flex items-center space-x-2 space-x-reverse"><div class="flex bg-gray-100 rounded-lg p-1"><button onclick='switchMapLayer("greenhouse-map","street")' id="greenhouse-street-btn" class="px-3 py-1 rounded text-sm bg-white shadow-sm"><i class="fas fa-map ml-1"></i> ูุนูููู</button> <button onclick='switchMapLayer("greenhouse-map","satellite")' id="greenhouse-satellite-btn" class="px-3 py-1 rounded text-sm"><i class="fas fa-satellite ml-1"></i> ูุงููุงุฑูโุง</button></div><button onclick="toggleLocationEdit()" class="bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-lg text-sm"><i class="fas fa-map-marker-alt"></i></button></div></div><div id="greenhouse-map" class="map-container" style="height:300px"></div><div id="location-controls" class="mt-4 hidden"><div class="flex justify-end space-x-2 space-x-reverse"><button onclick="cancelLocationEdit()" class="bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg text-sm">ุงูุตุฑุงู</button> <button onclick="saveLocationEdit()" class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm">ุฐุฎุฑู ูููุนุช</button></div></div></div><div id="greenhouse-marketplace-container" class="bg-gray-800 rounded-xl card-shadow"></div></div><div id="greenhouse-receive-page" class="tab-page space-y-6"><div class="accordion-item bg-white rounded-xl card-shadow"><button class="accordion-header flex justify-between items-center w-full p-6 text-right"><h3 class="text-xl font-bold">ฺฏุฒุงุฑุด ุขฺฏูโูุง ูู</h3><i class="fas fa-chevron-down"></i></button><div class="accordion-content"><div class="p-6 pt-0"><div class="flex items-center justify-between mb-6 flex-wrap gap-4"><div class="flex items-center space-x-2 space-x-reverse"><label for="greenhouse-basket-type-filter" class="text-sm font-medium text-gray-700">ููุน ุณุจุฏ:</label> <select id="greenhouse-basket-type-filter" class="px-3 py-2 border rounded-lg bg-white"><option value="all">ููู</option><option value="empty">ุณุจุฏ ุฎุงู</option><option value="full">ุณุจุฏ ูพุฑ</option></select></div><div class="flex items-center space-x-2 space-x-reverse"><label for="greenhouse-start-date-filter" class="text-sm font-medium text-gray-700">ุงุฒ:</label> <input type="date" id="greenhouse-start-date-filter" class="px-3 py-2 border rounded-lg"></div><div class="flex items-center space-x-2 space-x-reverse"><label for="greenhouse-end-date-filter" class="text-sm font-medium text-gray-700">ุชุง:</label> <input type="date" id="greenhouse-end-date-filter" class="px-3 py-2 border rounded-lg"></div><div class="flex space-x-2 space-x-reverse"><button onclick='downloadReportAsPDF("greenhouse")' class="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg text-sm"><i class="fas fa-file-pdf ml-1"></i> PDF</button> <button onclick="downloadGreenhouseReport()" class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm"><i class="fas fa-file-excel ml-1"></i> Excel</button></div></div><div id="greenhouse-reports" class="overflow-x-auto" style="max-height:400px;overflow-y:auto"><table class="w-full text-sm"><thead class="bg-gray-50"><tr><th class="px-4 py-2 text-right">ุชุงุฑุฎ</th><th class="px-4 py-2 text-right">ููุน</th><th class="px-4 py-2 text-right">ุชุนุฏุงุฏ</th><th class="px-4 py-2 text-right">ุฑุงููุฏู</th><th class="px-4 py-2 text-right">ูพูุงฺฉ</th><th class="px-4 py-2 text-right">ูุถุนุช</th></tr></thead><tbody id="greenhouse-reports-body"></tbody></table></div></div></div></div><div class="accordion-item bg-white rounded-xl card-shadow"><button class="accordion-header flex justify-between items-center w-full p-6 text-right"><div class="flex items-center"><h3 class="text-xl font-bold">ูพุงูโูุง</h3><span id="greenhouse-messages-badge" class="bg-red-500 text-white text-xs font-bold mr-2 px-2 py-1 rounded-full hidden">0</span></div><i class="fas fa-chevron-down"></i></button><div class="accordion-content"><div class="p-6 pt-0"><div id="greenhouse-messages" class="space-y-4"></div></div></div></div></div><div id="greenhouse-send-page" class="tab-page hidden space-y-6"><div class="accordion-item bg-white rounded-xl card-shadow"><button class="accordion-header flex justify-between items-center w-full p-6 text-right"><h3 class="text-xl font-bold">ุงุฑุชุจุงุท ุจุง ุณูุฑุชูฺฏ</h3><i class="fas fa-chevron-down"></i></button><div class="accordion-content"><div class="p-6 pt-0"><div id="greenhouse-connections-list"><div class="flex items-center space-x-2 space-x-reverse border-b pb-4 mb-4"><select id="greenhouse-sorting-center-select" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500 bg-white"></select> <button onclick="requestGreenhouseConnection()" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg whitespace-nowrap"><i class="fas fa-plus ml-2"></i> ุงูุฒูุฏู</button></div><div id="greenhouse-current-connections" class="space-y-3"></div></div></div></div></div><div class="accordion-item bg-white rounded-xl card-shadow"><button class="accordion-header flex justify-between items-center w-full p-6 text-right"><h3 class="text-xl font-bold">ุฏุฑุฎูุงุณุช ุฌุฏุฏ (ุญูู ู ููู)</h3><i class="fas fa-chevron-down"></i></button><div class="accordion-content"><div class="p-6 pt-0"><form onsubmit="submitRequest(event)"><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><label class="block text-gray-700 text-sm font-bold mb-2">ููุน ุฏุฑุฎูุงุณุช</label> <select id="request-type" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500 bg-white"><option value="empty">ุฏุฑุงูุช ุณุจุฏ ุฎุงู</option><option value="full">ุงุฑุณุงู ุณุจุฏ ูพุฑ</option></select></div><div><label class="block text-gray-700 text-sm font-bold mb-2">ุชุนุฏุงุฏ</label> <input type="number" id="request-quantity" placeholder="ูุซุงู: 50" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500"></div><div class="md:col-span-2"><label class="block text-gray-700 text-sm font-bold mb-2">ูุฑฺฉุฒ ุณูุฑุชูฺฏ</label> <select id="sorting-center" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500 bg-white"></select></div><div class="md:col-span-2"><label class="block text-gray-700 text-sm font-bold mb-2">ุชูุถุญุงุช</label> <textarea id="request-description" rows="3" placeholder="ุชูุถุญุงุช ุจุดุชุฑ (ุงุฎุชุงุฑ)" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500"></textarea></div></div><div class="mt-6"><button type="submit" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors"><i class="fas fa-paper-plane ml-2"></i> ุงุฑุณุงู ุฏุฑุฎูุงุณุช</button></div></form></div></div></div><div class="accordion-item bg-white rounded-xl card-shadow"><button class="accordion-header flex justify-between items-center w-full p-6 text-right"><h3 class="text-xl font-bold">ุซุจุช ุขฺฏู ุฌุฏุฏ</h3><i class="fas fa-chevron-down"></i></button><div class="accordion-content"><div class="p-6 pt-0"><form onsubmit='submitAdFromPanel(event,"greenhouse")'><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><label class="block text-gray-700 text-sm font-bold mb-2">ููุน ุขฺฏู</label> <select id="greenhouse-panel-ad-type" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500 bg-white"><option value="supply">ุนุฑุถู</option><option value="demand">ุชูุงุถุง</option></select></div><div><label class="block text-gray-700 text-sm font-bold mb-2">ูุงู ูุญุตูู</label> <input id="greenhouse-panel-ad-product" placeholder="ูุซุงู: ฺฏูุฌู ูุฑูฺฏ" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500"></div><div><label class="block text-gray-700 text-sm font-bold mb-2">ุฏุณุชูโุจูุฏ</label> <select id="greenhouse-panel-ad-category" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500 bg-white"><option value="vegetables">๐ฅฌ ุชุฑู ุจุงุฑ</option><option value="fruits">๐ ููู</option><option value="grains">๐พ ุบูุงุช</option><option value="nuts">๐ฅ ุฎุดฺฉุจุงุฑ</option></select></div><div><label class="block text-gray-700 text-sm font-bold mb-2">ููุฏุงุฑ (ฺฉููฺฏุฑู)</label> <input type="number" id="greenhouse-panel-ad-quantity" placeholder="ูุซุงู: 100" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500"></div><div><label class="block text-gray-700 text-sm font-bold mb-2">ููุช (ุชููุงู/ฺฉูู)</label> <input type="number" id="greenhouse-panel-ad-price" placeholder="ูุซุงู: 15000" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500"></div><div class="md:col-span-2"><label class="block text-gray-700 text-sm font-bold mb-2">ุนฺฉุณ ูุญุตูู (ุงุฎุชุงุฑ)</label> <input type="file" id="greenhouse-panel-ad-image" accept="image/*" class="w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"></div></div><div class="flex items-center space-x-4 space-x-reverse mt-6"><button type="submit" class="bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors"><i class="fas fa-plus ml-2"></i> ุซุจุช ุขฺฏู</button></div></form></div></div></div><div class="accordion-item bg-white rounded-xl card-shadow"><button class="accordion-header flex justify-between items-center w-full p-6 text-right"><h3 class="text-xl font-bold">ุฏุฑุฎูุงุณุชโูุง ูุนุงู</h3><i class="fas fa-chevron-down"></i></button><div class="accordion-content"><div class="p-6 pt-0"><div id="greenhouse-active-requests" class="space-y-4"></div></div></div></div></div></div></div><div id="farmer-panel" class="panel hidden"><div class="container mx-auto px-4 py-6"><div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6"><div class="bg-white rounded-xl card-shadow p-6"><div class="flex items-center justify-between mb-4"><h3 class="text-xl font-bold">ููุดู ู ูููุนุช</h3><div class="flex items-center space-x-2 space-x-reverse"><div class="flex bg-gray-100 rounded-lg p-1"><button onclick='switchMapLayer("farmer-map","street")' id="farmer-street-btn" class="px-3 py-1 rounded text-sm bg-white shadow-sm"><i class="fas fa-map ml-1"></i> ูุนูููู</button> <button onclick='switchMapLayer("farmer-map","satellite")' id="farmer-satellite-btn" class="px-3 py-1 rounded text-sm"><i class="fas fa-satellite ml-1"></i> ูุงููุงุฑูโุง</button></div><button onclick="toggleLocationEdit()" class="bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-lg text-sm"><i class="fas fa-map-marker-alt"></i></button></div></div><div id="farmer-map" class="map-container" style="height:300px"></div></div><div id="farmer-marketplace-container" class="bg-gray-800 rounded-xl card-shadow"></div></div><div id="farmer-receive-page" class="tab-page space-y-6"><div class="accordion-item bg-white rounded-xl card-shadow"><button class="accordion-header flex justify-between items-center w-full p-6 text-right"><div class="flex items-center"><h3 class="text-xl font-bold">ูพุงูโูุง</h3><span id="farmer-messages-badge" class="bg-red-500 text-white text-xs font-bold mr-2 px-2 py-1 rounded-full hidden">0</span></div><i class="fas fa-chevron-down"></i></button><div class="accordion-content"><div class="p-6 pt-0"><div id="farmer-messages" class="space-y-4"><p class="text-gray-500 text-center py-8">ูพุงู ูุฌูุฏ ูุฏุงุฑุฏ</p></div></div></div></div><div class="accordion-item bg-white rounded-xl card-shadow"><button class="accordion-header flex justify-between items-center w-full p-6 text-right"><h3 class="text-xl font-bold">ฺฏุฒุงุฑุด ุขฺฏูโูุง ูู</h3><i class="fas fa-chevron-down"></i></button><div class="accordion-content"><div class="p-6 pt-0"><div class="flex items-center justify-between mb-6 flex-wrap gap-4"><div class="flex items-center space-x-2 space-x-reverse"><label for="farmer-start-date-filter" class="text-sm font-medium text-gray-700">ุงุฒ:</label> <input type="date" id="farmer-start-date-filter" class="px-3 py-2 border rounded-lg"></div><div class="flex items-center space-x-2 space-x-reverse"><label for="farmer-end-date-filter" class="text-sm font-medium text-gray-700">ุชุง:</label> <input type="date" id="farmer-end-date-filter" class="px-3 py-2 border rounded-lg"></div></div><div id="farmer-reports" class="overflow-x-auto" style="max-height:400px;overflow-y:auto"><table class="w-full text-sm"><thead class="bg-gray-50"><tr><th class="px-4 py-2 text-right">ุชุงุฑุฎ ุซุจุช</th><th class="px-4 py-2 text-right">ูุญุตูู</th><th class="px-4 py-2 text-right">ููุฏุงุฑ (ฺฉููฺฏุฑู)</th><th class="px-4 py-2 text-right">ููุช (ุชููุงู/ฺฉูู)</th></tr></thead><tbody id="farmer-reports-body"></tbody></table></div></div></div></div></div><div id="farmer-send-page" class="tab-page hidden space-y-6"><div class="accordion-item bg-white rounded-xl card-shadow"><button class="accordion-header flex justify-between items-center w-full p-6 text-right"><h3 class="text-xl font-bold">ุซุจุช ุขฺฏู ุฌุฏุฏ</h3><i class="fas fa-chevron-down"></i></button><div class="accordion-content"><div class="p-6 pt-0"><form onsubmit='submitAdFromPanel(event,"farmer")'><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><label class="block text-gray-700 text-sm font-bold mb-2">ููุน ุขฺฏู</label> <select id="farmer-panel-ad-type" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500 bg-white"><option value="supply">ุนุฑุถู</option><option value="demand">ุชูุงุถุง</option></select></div><div><label class="block text-gray-700 text-sm font-bold mb-2">ูุงู ูุญุตูู</label> <input id="farmer-panel-ad-product" placeholder="ูุซุงู: ฺฏูุฌู ูุฑูฺฏ" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500"></div><div><label class="block text-gray-700 text-sm font-bold mb-2">ุฏุณุชูโุจูุฏ</label> <select id="farmer-panel-ad-category" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500 bg-white"><option value="vegetables">๐ฅฌ ุชุฑู ุจุงุฑ</option><option value="fruits">๐ ููู</option><option value="grains">๐พ ุบูุงุช</option><option value="nuts">๐ฅ ุฎุดฺฉุจุงุฑ</option></select></div><div><label class="block text-gray-700 text-sm font-bold mb-2">ููุฏุงุฑ (ฺฉููฺฏุฑู)</label> <input type="number" id="farmer-panel-ad-quantity" placeholder="ูุซุงู: 100" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500"></div><div><label class="block text-gray-700 text-sm font-bold mb-2">ููุช (ุชููุงู/ฺฉูู)</label> <input type="number" id="farmer-panel-ad-price" placeholder="ูุซุงู: 15000" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500"></div><div class="md:col-span-2"><label class="block text-gray-700 text-sm font-bold mb-2">ุนฺฉุณ ูุญุตูู (ุงุฎุชุงุฑ)</label> <input type="file" id="farmer-panel-ad-image" accept="image/*" class="w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"></div></div><div class="flex items-center space-x-4 space-x-reverse mt-6"><button type="submit" class="bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors"><i class="fas fa-plus ml-2"></i> ุซุจุช ุขฺฏู</button></div></form></div></div></div></div></div></div><div id="sorting-panel" class="panel hidden"><div class="container mx-auto px-4 py-6"><div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6"><div class="bg-white rounded-xl card-shadow p-6"><div class="flex items-center justify-between mb-4"><h3 class="text-xl font-bold">ููุดู ู ูููุนุช</h3><div class="flex items-center space-x-2 space-x-reverse"><div class="flex bg-gray-100 rounded-lg p-1"><button onclick='switchMapLayer("sorting-map","street")' id="sorting-street-btn" class="px-3 py-1 rounded text-sm bg-white shadow-sm"><i class="fas fa-map ml-1"></i> ูุนูููู</button> <button onclick='switchMapLayer("sorting-map","satellite")' id="sorting-satellite-btn" class="px-3 py-1 rounded text-sm"><i class="fas fa-satellite ml-1"></i> ูุงููุงุฑูโุง</button></div><button onclick="toggleLocationEdit()" class="bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-lg text-sm"><i class="fas fa-map-marker-alt"></i></button></div></div><div id="sorting-map" class="map-container" style="height:300px"></div><div id="location-controls-sorting" class="mt-4 hidden"><div class="flex justify-end space-x-2 space-x-reverse"><button onclick="cancelLocationEdit()" class="bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg text-sm">ุงูุตุฑุงู</button> <button onclick="saveLocationEdit()" class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm">ุฐุฎุฑู ูููุนุช</button></div></div></div><div id="sorting-marketplace-container" class="bg-gray-800 rounded-xl card-shadow"></div></div><div id="sorting-receive-page" class="tab-page space-y-6"><div class="accordion-item bg-white rounded-xl card-shadow"><button class="accordion-header flex justify-between items-center w-full p-6 text-right"><div class="flex items-center"><h3 class="text-xl font-bold">ุชุญููโูุง ูุฑูุฏ</h3><span id="sorting-incoming-deliveries-badge" class="bg-red-500 text-white text-xs font-bold mr-2 px-2 py-1 rounded-full hidden">0</span></div><i class="fas fa-chevron-down"></i></button><div class="accordion-content"><div class="p-6 pt-0"><div id="sorting-incoming-deliveries" class="space-y-4"></div></div></div></div><div class="accordion-item bg-white rounded-xl card-shadow"><button class="accordion-header flex justify-between items-center w-full p-6 text-right"><div class="flex items-center"><h3 class="text-xl font-bold">ุฏุฑุฎูุงุณุชโูุง ุฏุฑ ุงูุชุธุงุฑ</h3><span id="sorting-pending-requests-badge" class="bg-red-500 text-white text-xs font-bold mr-2 px-2 py-1 rounded-full hidden">0</span></div><i class="fas fa-chevron-down"></i></button><div class="accordion-content"><div class="p-6 pt-0"><div id="sorting-pending-requests" class="space-y-4"></div></div></div></div><div class="accordion-item bg-white rounded-xl card-shadow"><button class="accordion-header flex justify-between items-center w-full p-6 text-right"><div class="flex items-center"><h3 class="text-xl font-bold">ุฏุฑุฎูุงุณุชโูุง ุงุชุตุงู</h3><span id="sorting-connection-requests-badge" class="bg-red-500 text-white text-xs font-bold mr-2 px-2 py-1 rounded-full hidden">0</span></div><i class="fas fa-chevron-down"></i></button><div class="accordion-content"><div class="p-6 pt-0"><div id="sorting-connection-requests" class="space-y-4"></div></div></div></div><div class="accordion-item bg-white rounded-xl card-shadow"><button class="accordion-header flex justify-between items-center w-full p-6 text-right"><div class="flex items-center"><h3 class="text-xl font-bold">ูพุงูโูุง</h3><span id="sorting-messages-badge" class="bg-red-500 text-white text-xs font-bold mr-2 px-2 py-1 rounded-full hidden">0</span></div><i class="fas fa-chevron-down"></i></button><div class="accordion-content"><div class="p-6 pt-0"><div id="sorting-messages" class="space-y-4"></div></div></div></div><div class="accordion-item bg-white rounded-xl card-shadow"><button class="accordion-header flex justify-between items-center w-full p-6 text-right"><h3 class="text-xl font-bold">ฺฏุฒุงุฑุด ุฑูุฒุงูู</h3><i class="fas fa-chevron-down"></i></button><div class="accordion-content"><div class="p-6 pt-0"><div class="flex flex-wrap gap-4 items-center justify-between mb-6"><div class="flex flex-wrap gap-2 items-center"><select id="sorting-filter-type" class="px-3 py-2 border rounded-lg"><option value="">ููู</option><option value="greenhouse">ฺฏูุฎุงูู</option><option value="driver">ุฑุงููุฏู</option></select> <input id="sorting-filter-name" placeholder="ูุงู ฺฉุงูู" class="px-3 py-2 border rounded-lg"><div class="flex items-center space-x-2 space-x-reverse"><label for="sorting-basket-type-filter" class="text-sm font-medium text-gray-700">ููุน ุณุจุฏ:</label> <select id="sorting-basket-type-filter" class="px-3 py-2 border rounded-lg bg-white"><option value="all">ููู</option><option value="empty">ุณุจุฏ ุฎุงู</option><option value="full">ุณุจุฏ ูพุฑ</option><option value="delivered_basket">ุณุจุฏ ุชุญูู</option></select></div><div class="flex items-center space-x-2 space-x-reverse"><label for="sorting-start-date-filter" class="text-sm font-medium text-gray-700">ุงุฒ:</label> <input type="date" id="sorting-start-date-filter" class="px-3 py-2 border rounded-lg"></div><div class="flex items-center space-x-2 space-x-reverse"><label for="sorting-end-date-filter" class="text-sm font-medium text-gray-700">ุชุง:</label> <input type="date" id="sorting-end-date-filter" class="px-3 py-2 border rounded-lg"></div></div><div class="flex space-x-2 space-x-reverse"><button onclick='downloadReportAsPDF("sorting")' class="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg text-sm"><i class="fas fa-file-pdf ml-1"></i> PDF</button> <button onclick="downloadSortingReport()" class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm"><i class="fas fa-file-excel ml-1"></i> Excel</button></div></div><div id="sorting-reports" class="overflow-x-auto" style="max-height:400px;overflow-y:auto"><table class="w-full text-sm"><thead class="bg-gray-50"><tr><th class="px-4 py-2 text-right">ุชุงุฑุฎ</th><th class="px-4 py-2 text-right">ฺฏูุฎุงูู</th><th class="px-4 py-2 text-right">ุฑุงููุฏู</th><th class="px-4 py-2 text-right">ูพูุงฺฉ</th><th class="px-4 py-2 text-right">ููุน</th><th class="px-4 py-2 text-right">ุชุนุฏุงุฏ</th><th class="px-4 py-2 text-right">ูุถุนุช</th></tr></thead><tbody id="sorting-reports-body"></tbody></table></div></div></div></div></div><div id="sorting-send-page" class="tab-page hidden space-y-6"><div class="accordion-item bg-white rounded-xl card-shadow"><button class="accordion-header flex justify-between items-center w-full p-6 text-right"><h3 class="text-xl font-bold">ุฑุงููุฏฺฏุงู ุฏุฑ ุฏุณุชุฑุณ</h3><i class="fas fa-chevron-down"></i></button><div class="accordion-content"><div class="p-6 pt-0"><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><h4 class="font-semibold mb-4 text-green-600">ุฑุงููุฏฺฏุงู ุณุจุฏ ุฎุงู</h4><div id="empty-basket-drivers" class="space-y-3"></div></div><div><h4 class="font-semibold mb-4 text-blue-600">ุฑุงููุฏฺฏุงู ุจุงุฑฺฏุฑ</h4><div id="loading-drivers" class="space-y-3"></div></div></div></div></div></div><div class="accordion-item bg-white rounded-xl card-shadow"><button class="accordion-header flex justify-between items-center w-full p-6 text-right"><h3 class="text-xl font-bold">ุงุชุตุงูุงุช ุชุงุฏ ุดุฏู</h3><i class="fas fa-chevron-down"></i></button><div class="accordion-content"><div class="p-6 pt-0"><div id="sorting-approved-connections" class="space-y-4"></div></div></div></div><div class="accordion-item bg-white rounded-xl card-shadow"><button class="accordion-header flex justify-between items-center w-full p-6 text-right"><h3 class="text-xl font-bold">ุซุจุช ุขฺฏู ุฌุฏุฏ</h3><i class="fas fa-chevron-down"></i></button><div class="accordion-content"><div class="p-6 pt-0"><form onsubmit='submitAdFromPanel(event,"sorting")'><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><label class="block text-gray-700 text-sm font-bold mb-2">ููุน ุขฺฏู</label> <select id="sorting-panel-ad-type" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500 bg-white"><option value="supply">ุนุฑุถู</option><option value="demand">ุชูุงุถุง</option></select></div><div><label class="block text-gray-700 text-sm font-bold mb-2">ูุงู ูุญุตูู</label> <input id="sorting-panel-ad-product" placeholder="ูุซุงู: ฺฏูุฌู ูุฑูฺฏ" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500"></div><div><label class="block text-gray-700 text-sm font-bold mb-2">ุฏุณุชูโุจูุฏ</label> <select id="sorting-panel-ad-category" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500 bg-white"><option value="vegetables">๐ฅฌ ุชุฑู ุจุงุฑ</option><option value="fruits">๐ ููู</option><option value="grains">๐พ ุบูุงุช</option><option value="nuts">๐ฅ ุฎุดฺฉุจุงุฑ</option></select></div><div><label class="block text-gray-700 text-sm font-bold mb-2">ููุฏุงุฑ (ฺฉููฺฏุฑู)</label> <input type="number" id="sorting-panel-ad-quantity" placeholder="ูุซุงู: 100" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500"></div><div><label class="block text-gray-700 text-sm font-bold mb-2">ููุช (ุชููุงู/ฺฉูู)</label> <input type="number" id="sorting-panel-ad-price" placeholder="ูุซุงู: 15000" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500"></div><div class="md:col-span-2"><label class="block text-gray-700 text-sm font-bold mb-2">ุนฺฉุณ ูุญุตูู (ุงุฎุชุงุฑ)</label> <input type="file" id="sorting-panel-ad-image" accept="image/*" class="w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"></div></div><div class="flex items-center space-x-4 space-x-reverse mt-6"><button type="submit" class="bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors"><i class="fas fa-plus ml-2"></i> ุซุจุช ุขฺฏู</button></div></form></div></div></div></div></div></div><div id="buyer-panel" class="panel hidden"><div class="container mx-auto px-4 py-6"><div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6"><div class="bg-white rounded-xl card-shadow p-6"><div class="flex items-center justify-between mb-4"><h3 class="text-xl font-bold">ููุดู ู ูููุนุช</h3><div class="flex items-center space-x-2 space-x-reverse"><div class="flex bg-gray-100 rounded-lg p-1"><button onclick='switchMapLayer("buyer-map","street")' id="buyer-street-btn" class="px-3 py-1 rounded text-sm bg-white shadow-sm"><i class="fas fa-map ml-1"></i> ูุนูููู</button> <button onclick='switchMapLayer("buyer-map","satellite")' id="buyer-satellite-btn" class="px-3 py-1 rounded text-sm"><i class="fas fa-satellite ml-1"></i> ูุงููุงุฑูโุง</button></div><button onclick="toggleLocationEdit()" class="bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-lg text-sm"><i class="fas fa-map-marker-alt"></i></button></div></div><div id="buyer-map" class="map-container" style="height:300px"></div></div><div id="buyer-marketplace-container" class="bg-gray-800 rounded-xl card-shadow"></div></div><div id="buyer-receive-page" class="tab-page space-y-6"><div class="accordion-item bg-white rounded-xl card-shadow"><button class="accordion-header flex justify-between items-center w-full p-6 text-right"><div class="flex items-center"><h3 class="text-xl font-bold">ูพุงูโูุง</h3><span id="buyer-messages-badge" class="bg-red-500 text-white text-xs font-bold mr-2 px-2 py-1 rounded-full hidden">0</span></div><i class="fas fa-chevron-down"></i></button><div class="accordion-content"><div class="p-6 pt-0"><div id="buyer-messages" class="space-y-4"><p class="text-gray-500 text-center py-8">ูพุงู ูุฌูุฏ ูุฏุงุฑุฏ</p></div></div></div></div><div class="accordion-item bg-white rounded-xl card-shadow"><button class="accordion-header flex justify-between items-center w-full p-6 text-right"><h3 class="text-xl font-bold">ฺฏุฒุงุฑุด ุขฺฏูโูุง ูู</h3><i class="fas fa-chevron-down"></i></button><div class="accordion-content"><div class="p-6 pt-0"><div class="flex items-center justify-between mb-6 flex-wrap gap-4"><div class="flex items-center space-x-2 space-x-reverse"><label for="buyer-start-date-filter" class="text-sm font-medium text-gray-700">ุงุฒ:</label> <input type="date" id="buyer-start-date-filter" class="px-3 py-2 border rounded-lg"></div><div class="flex items-center space-x-2 space-x-reverse"><label for="buyer-end-date-filter" class="text-sm font-medium text-gray-700">ุชุง:</label> <input type="date" id="buyer-end-date-filter" class="px-3 py-2 border rounded-lg"></div></div><div id="buyer-reports" class="overflow-x-auto" style="max-height:400px;overflow-y:auto"><table class="w-full text-sm"><thead class="bg-gray-50"><tr><th class="px-4 py-2 text-right">ุชุงุฑุฎ ุซุจุช</th><th class="px-4 py-2 text-right">ูุญุตูู</th><th class="px-4 py-2 text-right">ููุฏุงุฑ (ฺฉููฺฏุฑู)</th><th class="px-4 py-2 text-right">ููุช ูพุดููุงุฏ (ุชููุงู)</th></tr></thead><tbody id="buyer-reports-body"></tbody></table></div></div></div></div></div><div id="buyer-send-page" class="tab-page hidden space-y-6"><div class="accordion-item bg-white rounded-xl card-shadow"><button class="accordion-header flex justify-between items-center w-full p-6 text-right"><h3 class="text-xl font-bold">ุซุจุช ุขฺฏู ุฌุฏุฏ</h3><i class="fas fa-chevron-down"></i></button><div class="accordion-content"><div class="p-6 pt-0"><form onsubmit='submitAdFromPanel(event,"buyer")'><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><label class="block text-gray-700 text-sm font-bold mb-2">ููุน ุขฺฏู</label> <select id="buyer-panel-ad-type" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500 bg-white"><option value="supply">ุนุฑุถู</option><option value="demand">ุชูุงุถุง</option></select></div><div><label class="block text-gray-700 text-sm font-bold mb-2">ูุงู ูุญุตูู</label> <input id="buyer-panel-ad-product" placeholder="ูุซุงู: ุณุจ ูุฑูุฒ" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500"></div><div><label class="block text-gray-700 text-sm font-bold mb-2">ุฏุณุชูโุจูุฏ</label> <select id="buyer-panel-ad-category" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500 bg-white"><option value="vegetables">๐ฅฌ ุชุฑู ุจุงุฑ</option><option value="fruits">๐ ููู</option><option value="grains">๐พ ุบูุงุช</option><option value="nuts">๐ฅ ุฎุดฺฉุจุงุฑ</option></select></div><div><label class="block text-gray-700 text-sm font-bold mb-2">ููุฏุงุฑ (ฺฉููฺฏุฑู)</label> <input type="number" id="buyer-panel-ad-quantity" placeholder="ูุซุงู: 50" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500"></div><div><label class="block text-gray-700 text-sm font-bold mb-2">ููุช (ุชููุงู/ฺฉูู)</label> <input type="number" id="buyer-panel-ad-price" placeholder="ูุซุงู: 12000" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500"></div><div class="md:col-span-2"><label class="block text-gray-700 text-sm font-bold mb-2">ุนฺฉุณ ูุญุตูู (ุงุฎุชุงุฑ)</label> <input type="file" id="buyer-panel-ad-image" accept="image/*" class="w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"></div></div><div class="flex items-center space-x-4 space-x-reverse mt-6"><button type="submit" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors"><i class="fas fa-plus ml-2"></i> ุซุจุช ุขฺฏู</button></div></form></div></div></div></div></div></div><div id="driver-panel" class="panel hidden"><div class="container mx-auto px-4 py-6"><div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6"><div class="bg-white rounded-xl card-shadow p-6"><div class="flex items-center justify-between mb-4"><h3 class="text-xl font-bold">ููุดู ู ูููุนุช</h3><div class="flex items-center space-x-2 space-x-reverse"><div class="flex bg-gray-100 rounded-lg p-1"><button onclick='switchMapLayer("driver-main-map","street")' id="driver-street-btn" class="px-3 py-1 rounded text-sm bg-white shadow-sm"><i class="fas fa-map ml-1"></i> ูุนูููู</button> <button onclick='switchMapLayer("driver-main-map","satellite")' id="driver-satellite-btn" class="px-3 py-1 rounded text-sm"><i class="fas fa-satellite ml-1"></i> ูุงููุงุฑูโุง</button></div><button onclick="toggleLocationEdit()" class="bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-lg text-sm"><i class="fas fa-map-marker-alt"></i></button></div></div><div id="driver-main-map" class="map-container" style="height:300px"></div><div id="location-controls-driver" class="mt-4 hidden"><div class="flex justify-end space-x-2 space-x-reverse"><button onclick="cancelLocationEdit()" class="bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg text-sm">ุงูุตุฑุงู</button> <button onclick="saveLocationEdit()" class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm">ุฐุฎุฑู ูููุนุช</button></div></div></div><div id="driver-marketplace-container" class="bg-gray-800 rounded-xl card-shadow"></div></div><div id="driver-receive-page" class="tab-page space-y-6"><div class="accordion-item bg-white rounded-xl card-shadow"><button class="accordion-header flex justify-between items-center w-full p-6 text-right"><h3 class="text-xl font-bold">ูุงููุฑุช ูุนุงู</h3><i class="fas fa-chevron-down"></i></button><div class="accordion-content"><div class="p-6 pt-0"><div id="driver-active-mission"></div></div></div></div><div class="accordion-item bg-white rounded-xl card-shadow"><button class="accordion-header flex justify-between items-center w-full p-6 text-right"><div class="flex items-center"><h3 class="text-xl font-bold">ุฏุฑุฎูุงุณุชโูุง ุฏุฑุงูุช</h3><span id="driver-pending-requests-badge" class="bg-red-500 text-white text-xs font-bold mr-2 px-2 py-1 rounded-full hidden">0</span></div><i class="fas fa-chevron-down"></i></button><div class="accordion-content"><div class="p-6 pt-0"><div id="driver-pending-requests" class="space-y-4"></div></div></div></div><div class="accordion-item bg-white rounded-xl card-shadow"><button class="accordion-header flex justify-between items-center w-full p-6 text-right"><div class="flex items-center"><h3 class="text-xl font-bold">ูพุงูโูุง</h3><span id="driver-messages-badge" class="bg-red-500 text-white text-xs font-bold mr-2 px-2 py-1 rounded-full hidden">0</span></div><i class="fas fa-chevron-down"></i></button><div class="accordion-content"><div class="p-6 pt-0"><div id="driver-messages" class="space-y-4"></div></div></div></div><div class="accordion-item bg-white rounded-xl card-shadow"><button class="accordion-header flex justify-between items-center w-full p-6 text-right"><h3 class="text-xl font-bold">ฺฏุฒุงุฑุด ุฑูุฒุงูู</h3><i class="fas fa-chevron-down"></i></button><div class="accordion-content"><div class="p-6 pt-0"><div class="flex items-center justify-between mb-6 flex-wrap gap-4"><div class="flex items-center space-x-2 space-x-reverse"><label for="driver-basket-type-filter" class="text-sm font-medium text-gray-700">ููุน ุณุจุฏ:</label> <select id="driver-basket-type-filter" class="px-3 py-2 border rounded-lg bg-white"><option value="all">ููู</option><option value="empty">ุณุจุฏ ุฎุงู</option><option value="full">ุณุจุฏ ูพุฑ</option><option value="delivered_basket">ุณุจุฏ ุชุญูู</option></select></div><div class="flex items-center space-x-2 space-x-reverse"><label for="driver-start-date-filter" class="text-sm font-medium text-gray-700">ุงุฒ:</label> <input type="date" id="driver-start-date-filter" class="px-3 py-2 border rounded-lg"></div><div class="flex items-center space-x-2 space-x-reverse"><label for="driver-end-date-filter" class="text-sm font-medium text-gray-700">ุชุง:</label> <input type="date" id="driver-end-date-filter" class="px-3 py-2 border rounded-lg"></div><div class="flex space-x-2 space-x-reverse"><button onclick='downloadReportAsPDF("driver")' class="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg text-sm"><i class="fas fa-file-pdf ml-1"></i> PDF</button> <button onclick="downloadDriverReport()" class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm"><i class="fas fa-file-excel ml-1"></i> Excel</button></div></div><div id="driver-reports" class="overflow-x-auto" style="max-height:400px;overflow-y:auto"><table class="w-full text-sm"><thead class="bg-gray-50"><tr><th class="px-4 py-2 text-right">ุชุงุฑุฎ</th><th class="px-4 py-2 text-right">ฺฏูุฎุงูู</th><th class="px-4 py-2 text-right">ููุน</th><th class="px-4 py-2 text-right">ุชุนุฏุงุฏ</th><th class="px-4 py-2 text-right">ูุถุนุช</th></tr></thead><tbody id="driver-reports-body"></tbody></table></div></div></div></div></div><div id="driver-send-page" class="tab-page hidden space-y-6"><div class="accordion-item bg-white rounded-xl card-shadow"><button class="accordion-header flex justify-between items-center w-full p-6 text-right"><h3 class="text-xl font-bold">ูุถุนุช ู ุชูุธูุงุช ุฑุงููุฏู</h3><i class="fas fa-chevron-down"></i></button><div class="accordion-content"><div class="p-6 pt-0"><div class="flex items-center justify-between mb-6"><div class="flex items-center"><div class="pulse-dot w-3 h-3 bg-green-500 rounded-full ml-2"></div><span class="text-green-600 font-semibold">ุขููุงู</span></div></div><div class="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6"><h4 class="font-semibold mb-4">ฺฏุฒุงุฑุด ุฑูุฒุงูู ูุถุนุช</h4><div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><label class="block text-gray-700 text-sm font-bold mb-2">ุชุนุฏุงุฏ ุณุจุฏ ุฎุงู ููุฌูุฏ</label><div class="flex items-center space-x-2 space-x-reverse"><button onclick="adjustEmptyBaskets(-1)" class="bg-red-500 hover:bg-red-600 text-white w-8 h-8 rounded-full">-</button> <input type="number" id="empty-baskets-count" class="w-20 px-2 py-1 border rounded text-center" min="0" value="0"> <button onclick="adjustEmptyBaskets(1)" class="bg-green-500 hover:bg-green-600 text-white w-8 h-8 rounded-full">+</button></div></div><div><label class="block text-gray-700 text-sm font-bold mb-2">ุธุฑูุช ุจุงุฑฺฏุฑ</label><div class="flex items-center space-x-2 space-x-reverse"><button onclick="adjustLoadCapacity(-1)" class="bg-red-500 hover:bg-red-600 text-white w-8 h-8 rounded-full">-</button> <input type="number" id="load-capacity" class="w-20 px-2 py-1 border rounded text-center" min="0" value="0"> <button onclick="adjustLoadCapacity(1)" class="bg-green-500 hover:bg-green-600 text-white w-8 h-8 rounded-full">+</button></div></div></div><div class="flex items-center space-x-2 space-x-reverse mt-4"><button onclick="submitDailyStatus()" id="submit-daily-status-btn" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg"><i class="fas fa-paper-plane ml-2"></i> ุซุจุช ูุถุนุช ุฑูุฒุงูู</button> <button onclick="completeLoadingProcess()" id="complete-loading-btn" class="bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg"><i class="fas fa-truck-loading ml-2"></i> ุชฺฉูู ูุฑุขูุฏ ุจุงุฑฺฏุฑ</button></div></div><div class="grid grid-cols-1 md:grid-cols-3 gap-6"><div class="bg-gray-50 p-4 rounded-lg text-center"><p class="text-2xl font-bold text-blue-600" id="driver-empty-baskets-display">0</p><p class="text-gray-600 text-sm">ุณุจุฏ ุฎุงู ููุฌูุฏ</p></div><div class="bg-gray-50 p-4 rounded-lg text-center"><p class="text-2xl font-bold text-green-600" id="driver-load-capacity-display">0</p><p class="text-gray-600 text-sm">ุธุฑูุช ุจุงุฑฺฏุฑ</p></div><div class="bg-gray-50 p-4 rounded-lg text-center"><p class="text-2xl font-bold text-orange-600" id="driver-trips-count">0</p><p class="text-gray-600 text-sm">ุณูุฑูุง ุงูุฑูุฒ</p></div></div></div></div></div><div class="accordion-item bg-white rounded-xl card-shadow"><button class="accordion-header flex justify-between items-center w-full p-6 text-right"><h3 class="text-xl font-bold">ุงุฑุชุจุงุท ุจุง ุณูุฑุชูฺฏ</h3><i class="fas fa-chevron-down"></i></button><div class="accordion-content"><div class="p-6 pt-0"><div id="driver-connections-form" class="flex items-center space-x-2 space-x-reverse border-b pb-4 mb-4"><select id="driver-sorting-center-select" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500 bg-white"><option value="">ุงูุชุฎุงุจ ูุฑฺฉุฒ ุณูุฑุชูฺฏ...</option></select> <button onclick="requestDriverConnection()" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg whitespace-nowrap"><i class="fas fa-plus ml-2"></i> ุงูุฒูุฏู</button></div><div id="driver-current-connections" class="space-y-3"></div></div></div></div><div class="accordion-item bg-white rounded-xl card-shadow"><button class="accordion-header flex justify-between items-center w-full p-6 text-right"><h3 class="text-xl font-bold">ุซุจุช ุขฺฏู ุฌุฏุฏ</h3><i class="fas fa-chevron-down"></i></button><div class="accordion-content"><div class="p-6 pt-0"><form onsubmit='submitAdFromPanel(event,"driver")'><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><label class="block text-gray-700 text-sm font-bold mb-2">ููุน ุขฺฏู</label> <select id="driver-panel-ad-type" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500 bg-white"><option value="supply">ุนุฑุถู</option><option value="demand">ุชูุงุถุง</option></select></div><div><label class="block text-gray-700 text-sm font-bold mb-2">ูุงู ูุญุตูู</label> <input id="driver-panel-ad-product" placeholder="ูุซุงู: ฺฏูุฌู ูุฑูฺฏ" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500"></div><div><label class="block text-gray-700 text-sm font-bold mb-2">ุฏุณุชูโุจูุฏ</label> <select id="driver-panel-ad-category" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500 bg-white"><option value="vegetables">๐ฅฌ ุชุฑู ุจุงุฑ</option><option value="fruits">๐ ููู</option><option value="grains">๐พ ุบูุงุช</option><option value="nuts">๐ฅ ุฎุดฺฉุจุงุฑ</option></select></div><div><label class="block text-gray-700 text-sm font-bold mb-2">ููุฏุงุฑ (ฺฉููฺฏุฑู)</label> <input type="number" id="driver-panel-ad-quantity" placeholder="ูุซุงู: 100" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500"></div><div><label class="block text-gray-700 text-sm font-bold mb-2">ููุช (ุชููุงู/ฺฉูู)</label> <input type="number" id="driver-panel-ad-price" placeholder="ูุซุงู: 15000" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500"></div><div class="md:col-span-2"><label class="block text-gray-700 text-sm font-bold mb-2">ุนฺฉุณ ูุญุตูู (ุงุฎุชุงุฑ)</label> <input type="file" id="driver-panel-ad-image" accept="image/*" class="w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"></div></div><div class="flex items-center space-x-4 space-x-reverse mt-6"><button type="submit" class="bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors"><i class="fas fa-plus ml-2"></i> ุซุจุช ุขฺฏู</button></div></form></div></div></div></div></div></div></div><div id="bottom-nav" class="fixed bottom-0 left-0 right-0 bg-gray-800 text-white shadow-lg z-[999] hidden"><div class="flex justify-around"><button id="nav-receive" class="flex-1 text-center py-3 px-2 focus:outline-none border-t-4 border-cyan-500 text-cyan-400 relative"><i class="fas fa-inbox text-xl mb-1"></i> <span class="block text-xs font-medium">ุฏุฑุงูุช</span> <span id="nav-receive-badge" class="absolute top-1 right-1/4 bg-red-500 text-white text-xs rounded-full w-4 h-4 flex items-center justify-center hidden">0</span></button> <button id="nav-send" class="flex-1 text-center py-3 px-2 focus:outline-none border-t-4 border-transparent text-gray-400"><i class="fas fa-paper-plane text-xl mb-1"></i> <span class="block text-xs font-medium">ุงุฑุณุงู</span></button></div></div><div id="notification-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-[9999]"><div class="bg-white rounded-xl p-6 w-full max-w-md mx-4"><div class="flex items-center justify-between mb-4"><h3 class="text-xl font-bold">ุงุนูุงูโูุง</h3><button onclick="closeNotifications()" class="text-gray-500 hover:text-gray-700"><i class="fas fa-times"></i></button></div><div id="notifications-list" class="space-y-3 max-h-96 overflow-y-auto"><p class="text-gray-500 text-center py-4">ุงุนูุงู ูุฌูุฏ ูุฏุงุฑุฏ</p></div></div></div><div id="toast" class="fixed top-4 left-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg notification-slide hidden z-50"><div class="flex items-center"><i class="fas fa-check-circle ml-2"></i> <span id="toast-message">ุนููุงุช ุจุง ููููุช ุงูุฌุงู ุดุฏ</span></div></div><div id="permission-modal" class="fixed inset-0 bg-black bg-opacity-60 hidden items-center justify-center z-[10002]"><div class="bg-white rounded-xl p-8 w-full max-w-md mx-4 text-center shadow-lg transform transition-all scale-95 opacity-0" id="permission-modal-content"><div class="text-5xl mb-4" id="permission-modal-icon"></div><h3 class="text-2xl font-bold mb-4 text-gray-800" id="permission-modal-title"></h3><p class="text-gray-600 mb-8" id="permission-modal-body"></p><div class="flex justify-center space-x-4 space-x-reverse"><button id="permission-modal-disagree-btn" class="px-8 py-3 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300 transition-colors">ุจุนุฏุงู</button> <button id="permission-modal-agree-btn" class="px-8 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-colors">ููุงููู</button></div></div></div><div id="disclaimer-modal" class="fixed inset-0 bg-black bg-opacity-70 hidden items-center justify-center z-[10003]"><div class="bg-white rounded-2xl p-8 w-full max-w-lg mx-4 shadow-2xl transform transition-all scale-95 opacity-0" id="disclaimer-modal-content"><h3 class="text-3xl font-bold mb-4 text-gray-800 text-center" id="disclaimer-modal-title">ุจู ุณูุฏุณุช ุฎูุด ุขูุฏุฏ!</h3><div class="border-t border-b border-gray-200 my-6 py-4"><p class="text-gray-700 text-base leading-relaxed" id="disclaimer-modal-role-text"></p></div><div><h4 class="font-bold text-red-600 mb-2">ูฺฉุชู ุจุณุงุฑ ููู (ุณูุจ ูุณุฆููุช)</h4><p class="text-gray-600 text-sm leading-relaxed">ุณูุฏุณุช ฺฉ ูพูุชูุฑู ุจุฑุง ุชุณูู ุงุฑุชุจุงุท ูุณุชูู ุจู ูุนุงูุงู ุญูุฒู ฺฉุดุงูุฑุฒ ุงุณุช. ุงู ุณุงูุงูู ูฺโฺฏููู ุฏุฎุงูุช ุฏุฑ ูุนุงููุงุชุ ุชูุงููุงุช ูุงูุ ฺฉูุช ูุญุตููุงุชุ ู ูุฑุขูุฏูุง ุญูู ู ููู ูุฏุงุฑุฏ. ุชูุงู ูุณุฆููุชโูุง ุญููู ู ูุงู ูุฑุจูุท ุจู ูุฑฺฏููู ูุนุงููู ุง ุชุนุงููุ ูุณุชููุงู ุจุฑ ุนูุฏู ุทุฑูู ุฏุฑฺฏุฑ (ฺฉุงุฑุจุฑุงู) ูโุจุงุดุฏ.</p></div><div class="mt-8 text-center"><button id="disclaimer-modal-agree-btn" class="w-full px-8 py-4 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-700 transition-colors text-lg">ูุชูุฌู ุดุฏู ู ุชุงุฏ ูโฺฉูู</button></div></div></div><div id="chat-manager-container" class="fixed bottom-0 right-0 p-4 space-x-4 flex items-end z-[9998]"></div><div id="lightbox-modal" class="fixed inset-0 bg-black bg-opacity-70 hidden items-center justify-center z-[10001]" onclick="closeLightbox()"><span class="absolute top-4 right-6 text-white text-4xl font-bold cursor-pointer" onclick="closeLightbox()">&times;</span> <img class="max-w-[90vw] max-h-[90vh]" id="lightbox-image" onclick="event.stopPropagation()"></div><script src="script.js" defer="defer"></script></body></html>